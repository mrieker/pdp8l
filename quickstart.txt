
Setup:

    ZTURN/ZTURN36 board installed in slot 36 B,C,D with ZTurn-7020 plugged in
    ZTURN/ZTURN35 board installed in slot 35 B,C,D and piggy-backed to ZTURN36
    ZTURN/ZTURN34B and ZTURN34D boards installed in slot 34 B,D and piggy-backed to ZTURN36,35
    PIPAN8L/PCB3 or 4 installed on backplane pins of slot 1 and connected to ZTURN36 via I2C

    5V power supply plugged into ZTurn board and powered on
     - optional but recommended so ZTurn doesn't get powered from PC via USB cabke
    ethernet cable plugged into ZTurn board and connected
     - optional but recommended to allow more than one terminal window at a time
    USB cable from USB connector closest to ZTurn SDCard connected to a PC
     - baud rate is 115200

    Recommended installation steps:

        * remove any PDP-8/L boards from rows 32,33,34 columns B,C,D
        * install ZTURN34B and ZTURN34D boards in slots 34 B and D
        * install ZTURN35 board in slot 35 B,C,D
        * install ZTURN36 board in slot 36 without the ZTurn installed
            also do not have any jumper on the power connector
        * install the 3 interconnection boards starting with the B column
            make sure each is fully seated and not off-by-one as it is installed
        * install the ZTurn onto the ZTURN36 board
            make sure it is fully seated and not off-by-one
        * re-install any removed PDP-8/L boards
            if you want to have the ZTurn do console TTY processing, take/leave the console TTY boards out
            likewise, if you want the ZTurn to do papertape processing, take/leave the papertape boards out
        * install front panel overlay board onto backplane pins of row 1
            it may be helpful to use the spacer board to align the pins
            cut it into 4 segments for A,B,C,D pins
            you can leave the spacer board(s) on
        * install I2C cable from ZTURN36 board around to front panel board
        * connect power supply, ethernet and console USB cables to ZTurn

Initially, use ZTurn serial console (USB) to set up IP address (if ethernet connected):

    Log in as root
        edit /etc/dhcpcd.conf to set eth0 IP address and default gateway address
        reboot
    Now should be able to ssh to that IP address

Before doing any of the below, do:

    cd pdp8l/pipan8l
    ./z8lreal [options...]      turns on fpga code to access real pdp (not simulate)
                -entty03        use fpga console tty
                                 - use ./z8ltty to access console tty
                                 - must unplug tty boards from pdp (M706 and M707)
                -nobrk          PDP-8/L does not have BREAK option hardware
                                 - forces all low 4K memory accesses to fpga memory
                                 - can leave core memory plugged in

---------------------------
GETTING THE PDP-8/L WORKING
---------------------------

The console board can be used to toggle in test programs automatically and run them.
There are TCL commands for accessing all console lights and switches.

There are several simple memory test programs in testmem.tcl.  They use the front panel board
to do LOAD ADDRESS ; DEPOSIT ; EXAMINE sequences to verify that the processor can access memory
via the console.

    $ ./z8lpanel
    z8lpanel> source testmem.tcl    ;# define memory test tcl script functions
    z8lpanel> hardreset             ;# make sure PDP is halted and ready
    z8lpanel> testzeroes 0 077      ;# try to write zeroes to 0000..0077 and verify
    z8lpanel> testones 0100 0177    ;# try to write ones to 0100..0177 and verify
    z8lpanel> looptest testrands    ;# tests all memory 0000..7777 with random numbers (write then verify)

Another example is the 'isziactest' program.  See pipan8lini.tcl, search for 'proc isziactest'.

    $ ./z8lpanel                     # automatically loads z8lpanelini.tcl and pipan8lini.tcl
    z8lpanel> hardreset             ;# make sure PDP is halted and ready
    z8lpanel> isziactest            ;# do LOAD ADDRESSes, DEPOSITs, EXAMINEs to write test program to memory

    Then you must either manually start it with 0020 LOAD ADDRESS ; START at the real switches or use:

    z8lpanel> setsw sr 0020         ;# override physical switches and with value 0020
    z8lpanel> flicksw ldad          ;# flick the LOAD ADDRESS switch
    z8lpanel> flicksw start         ;# flick the START switch
    z8lpanel> relsw sr              ;# release switchregister override

    ...to run it.  You should see the accumulator incrementing.

    z8lpanel> octal [getreg ac]     ;# read and display accumulator in octal
    0762
    z8lpanel> octal [getreg ac]
    1027
    z8lpanel> octal [getreg ac]
    1072

This stand-alone program will pound the living daylights out of the PDP
by sending it random opcodes, interrupts, DMA cycles:

    $ ./z8lsimtest -real

-------------------------------
WHEN THE PDP-8/L IS ALL WORKING
-------------------------------

Light rolling demo:

    cd pdp8l/pipan8l
    ./z8lpanel doubleroll.tcl
        must have some switches (like 5 & 6) on
        indicates number of steps before reversing

Kaleidoscope demo:

    cd pdp8l/pipan8l
    ./z8lpanel kaleid.tcl e

Music demo:

    cd pdp8l/music
    ./playrand.sh real
        loads ~/music-rkab0.rk05 file in RK05 drive 0
        toggles in OS/8 bootloader then starts it
        does a DIR to get list of music files
        runs MUSIC then passes song files in random order

    Take cover off PDP-8/L backplane pins
    Put small insulated AM radio on top of backplane pins
    Tune to 600-700 kHz

OS/8 Basic games:

    cd pdp8l/pipan8l
    ./z8lpanel bootos8dpack.tcl

        DIR
        R BASIC
            OLD
            BLKJAK
            RUN
            ...
            BYE

EDU25 Basic:

    cd pdp8l/edu25r
    ./test.sh real
        types in and runs simple HELLO program

    then to access main tty:
        ../pipan8l/z8ltty -cps 960 -upcase
        control-\ when done

    to access other 2 ttys, on 2 other screens:
        cd pdp8l/pipan8l
        ./z8ltty -cps 960 -upcase -dc02 0
        ./z8ltty -cps 960 -upcase -dc02 1

On separate screens:

    cd pdp8l/pipan8l
    ./z8lpanel -status          displays front-panel lights
    ./z8ldump                   displays dump of fpga registers

Tutorial:

    programs of interest
    pass -? option to print help text

        z8lpanel - access front panel via i2c bus
            also can access fpga control bits
            can process tcl scripts for testing and booting
            can load rim and bin files
            help command lists commands

        z8ltty - connect to a tty controller, process tty i/o
            example: ./z8ltty -cps 960 -upcase      by default, accesses primary tty controller
            press control-\ when done

        z8lrk8je - load disk files in rk05 drives, process rk05 i/o
            example: ./z8lrk8je -loadrw 0 ~/os8-rkab0.rk05 &
            leave it running in background so it can process rk05 i/o

        z8lptr - load file in high-speed paper tape reader, process reader i/o
            example: ./z8lptr -text somefile.txt
                     ./z8lptr somefile.bin
            exits when whole file read by pdp
            press control-C to terminate earlier

        z8lptp - load file in high-speed paper tape punch, process punch i/o
            example: ./z8lptp -text somefile.txt
            press control-C when done punching from pdp


